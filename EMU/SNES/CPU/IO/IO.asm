//------------
// I/O Macros
//------------

//-----------------------
// I/O Store Subroutines
//-----------------------
StoreByte:
  srl t1,t0,8     // T1 = Offset >> 8
  ori t2,r0,$21   // T2 = $21
  bne t1,t2,StoreByte42XX // IF (T1 != $21) Store Byte $42XX
  andi t0,$FF     // Offset &= $FF (Delay Slot)
  sll t0,2        // Offset *= 4 (Indirect Table Offset)
  la a3,STORE21XX // A3 = Store I/O $21XX Indirect Table
  addu a3,t0      // A3 = Store I/O $21XX Indirect Table Offset
  lw t0,0(a3)     // T0 = Store I/O $21XX Table Offset
  jalr gp,t0      // Run Store I/O $21XX Instruction
  nop // Delay Slot

  StoreByte42XX:
  ori t2,r0,$42   // T2 = $42
  bne t1,t2,StoreByteEnd // IF (T1 != $42) Store Byte End
  andi t0,$FF     // Offset &= $FF (Delay Slot)
  sll t0,2        // Offset *= 4 (Indirect Table Offset)
  la a3,STORE42XX // A3 = Store I/O $42XX Indirect Table
  addu a3,t0      // A3 = Store I/O $42XX Indirect Table Offset
  lw t0,0(a3)     // T0 = Store I/O $42XX Table Offset
  jalr k1,t0      // Run Store I/O $42XX Instruction
  nop // Delay Slot

  StoreByteEnd:
    jr sp
    nop // Delay Slot

StoreWord:
  srl t1,t0,8     // T1 = Offset >> 8
  ori t2,r0,$21   // T2 = $21
  bne t1,t2,StoreWord42XX // IF (T1 != $21) Store Word $41XX
  andi t0,$FF     // Offset &= $FF (Delay Slot)
  sll t0,2        // Offset *= 4 (Indirect Table Offset)
  la a3,STORE21XX // A3 = Store I/O $21XX Indirect Table
  addu a3,t0      // A3 = Store I/O $21XX Indirect Table Offset
  lw t0,0(a3)     // T0 = Store I/O $21XX Table Offset
  jalr gp,t0      // Run Store I/O $21XX Instruction
  nop             // Delay Slot
  lw t0,4(a3)     // T0 = Store I/O $21XX Table Offset
  jalr gp,t0      // Run Store I/O $21XX Instruction
  nop // Delay Slot

  StoreWord42XX:
  ori t2,r0,$42   // T2 = $42
  bne t1,t2,StoreWordEnd // IF (T1 != $42) Store Word End
  andi t0,$FF     // Offset &= $FF (Delay Slot)
  sll t0,2        // Offset *= 4 (Indirect Table Offset)
  la a3,STORE42XX // A3 = Store I/O $42XX Indirect Table
  addu a3,t0      // A3 = Store I/O $42XX Indirect Table Offset
  lw t0,0(a3)     // T0 = Store I/O $42XX Table Offset
  jalr k1,t0      // Run Store I/O $42XX Instruction
  nop             // Delay Slot
  lw t0,4(a3)     // T0 = Store I/O $42XX Table Offset
  jalr k1,t0      // Run Store I/O $42XX Instruction
  nop // Delay Slot

  StoreWordEnd:
    jr sp
    nop // Delay Slot


STORE21XX:
// Store I/O $21XX Indirect Table
dw STORE2100, STORE2101, STORE2102, STORE2103, STORE2104, STORE2105, STORE2106, STORE2107, STORE2108, STORE2109, STORE210A, STORE210B, STORE210C, STORE210D, STORE210E, STORE210F
dw STORE2110, STORE2111, STORE2112, STORE2113, STORE2114, STORE2115, STORE2116, STORE2117, STORE2118, STORE2119, STORE211A, STORE211B, STORE211C, STORE211D, STORE211E, STORE211F
dw STORE2120, STORE2121, STORE2122, STORE2123, STORE2124, STORE2125, STORE2126, STORE2127, STORE2128, STORE2129, STORE212A, STORE212B, STORE212C, STORE212D, STORE212E, STORE212F
dw STORE2130, STORE2131, STORE2132, STORE2133, STORE2134, STORE2135, STORE2136, STORE2137, STORE2138, STORE2139, STORE213A, STORE213B, STORE213C, STORE213D, STORE213E, STORE213F
dw STORE2140, STORE2141, STORE2142, STORE2143, STORE2144, STORE2145, STORE2146, STORE2147, STORE2148, STORE2149, STORE214A, STORE214B, STORE214C, STORE214D, STORE214E, STORE214F
dw STORE2150, STORE2151, STORE2152, STORE2153, STORE2154, STORE2155, STORE2156, STORE2157, STORE2158, STORE2159, STORE215A, STORE215B, STORE215C, STORE215D, STORE215E, STORE215F
dw STORE2160, STORE2161, STORE2162, STORE2163, STORE2164, STORE2165, STORE2166, STORE2167, STORE2168, STORE2169, STORE216A, STORE216B, STORE216C, STORE216D, STORE216E, STORE216F
dw STORE2170, STORE2171, STORE2172, STORE2173, STORE2174, STORE2175, STORE2176, STORE2177, STORE2178, STORE2179, STORE217A, STORE217B, STORE217C, STORE217D, STORE217E, STORE217F
dw STORE2180, STORE2181, STORE2182, STORE2183, STORE2184, STORE2185, STORE2186, STORE2187, STORE2188, STORE2189, STORE218A, STORE218B, STORE218C, STORE218D, STORE218E, STORE218F
dw STORE2190, STORE2191, STORE2192, STORE2193, STORE2194, STORE2195, STORE2196, STORE2197, STORE2198, STORE2199, STORE219A, STORE219B, STORE219C, STORE219D, STORE219E, STORE219F
dw STORE21A0, STORE21A1, STORE21A2, STORE21A3, STORE21A4, STORE21A5, STORE21A6, STORE21A7, STORE21A8, STORE21A9, STORE21AA, STORE21AB, STORE21AC, STORE21AD, STORE21AE, STORE21AF
dw STORE21B0, STORE21B1, STORE21B2, STORE21B3, STORE21B4, STORE21B5, STORE21B6, STORE21B7, STORE21B8, STORE21B9, STORE21BA, STORE21BB, STORE21BC, STORE21BD, STORE21BE, STORE21BF
dw STORE21C0, STORE21C1, STORE21C2, STORE21C3, STORE21C4, STORE21C5, STORE21C6, STORE21C7, STORE21C8, STORE21C9, STORE21CA, STORE21CB, STORE21CC, STORE21CD, STORE21CE, STORE21CF
dw STORE21D0, STORE21D1, STORE21D2, STORE21D3, STORE21D4, STORE21D5, STORE21D6, STORE21D7, STORE21D8, STORE21D9, STORE21DA, STORE21DB, STORE21DC, STORE21DD, STORE21DE, STORE21DF
dw STORE21E0, STORE21E1, STORE21E2, STORE21E3, STORE21E4, STORE21E5, STORE21E6, STORE21E7, STORE21E8, STORE21E9, STORE21EA, STORE21EB, STORE21EC, STORE21ED, STORE21EE, STORE21EF
dw STORE21F0, STORE21F1, STORE21F2, STORE21F3, STORE21F4, STORE21F5, STORE21F6, STORE21F7, STORE21F8, STORE21F9, STORE21FA, STORE21FB, STORE21FC, STORE21FD, STORE21FE, STORE21FF  

STORE42XX:
// Store I/O $42XX Indirect Table
dw STORE4200, STORE4201, STORE4202, STORE4203, STORE4204, STORE4205, STORE4206, STORE4207, STORE4208, STORE4209, STORE420A, STORE420B, STORE420C, STORE420D, STORE420E, STORE420F
dw STORE4210, STORE4211, STORE4212, STORE4213, STORE4214, STORE4215, STORE4216, STORE4217, STORE4218, STORE4219, STORE421A, STORE421B, STORE421C, STORE421D, STORE421E, STORE421F
dw STORE4220, STORE4221, STORE4222, STORE4223, STORE4224, STORE4225, STORE4226, STORE4227, STORE4228, STORE4229, STORE422A, STORE422B, STORE422C, STORE422D, STORE422E, STORE422F
dw STORE4230, STORE4231, STORE4232, STORE4233, STORE4234, STORE4235, STORE4236, STORE4237, STORE4238, STORE4239, STORE423A, STORE423B, STORE423C, STORE423D, STORE423E, STORE423F
dw STORE4240, STORE4241, STORE4242, STORE4243, STORE4244, STORE4245, STORE4246, STORE4247, STORE4248, STORE4249, STORE424A, STORE424B, STORE424C, STORE424D, STORE424E, STORE424F
dw STORE4250, STORE4251, STORE4252, STORE4253, STORE4254, STORE4255, STORE4256, STORE4257, STORE4258, STORE4259, STORE425A, STORE425B, STORE425C, STORE425D, STORE425E, STORE425F
dw STORE4260, STORE4261, STORE4262, STORE4263, STORE4264, STORE4265, STORE4266, STORE4267, STORE4268, STORE4269, STORE426A, STORE426B, STORE426C, STORE426D, STORE426E, STORE426F
dw STORE4270, STORE4271, STORE4272, STORE4273, STORE4274, STORE4275, STORE4276, STORE4277, STORE4278, STORE4279, STORE427A, STORE427B, STORE427C, STORE427D, STORE427E, STORE427F
dw STORE4280, STORE4281, STORE4282, STORE4283, STORE4284, STORE4285, STORE4286, STORE4287, STORE4288, STORE4289, STORE428A, STORE428B, STORE428C, STORE428D, STORE428E, STORE428F
dw STORE4290, STORE4291, STORE4292, STORE4293, STORE4294, STORE4295, STORE4296, STORE4297, STORE4298, STORE4299, STORE429A, STORE429B, STORE429C, STORE429D, STORE429E, STORE429F
dw STORE42A0, STORE42A1, STORE42A2, STORE42A3, STORE42A4, STORE42A5, STORE42A6, STORE42A7, STORE42A8, STORE42A9, STORE42AA, STORE42AB, STORE42AC, STORE42AD, STORE42AE, STORE42AF
dw STORE42B0, STORE42B1, STORE42B2, STORE42B3, STORE42B4, STORE42B5, STORE42B6, STORE42B7, STORE42B8, STORE42B9, STORE42BA, STORE42BB, STORE42BC, STORE42BD, STORE42BE, STORE42BF
dw STORE42C0, STORE42C1, STORE42C2, STORE42C3, STORE42C4, STORE42C5, STORE42C6, STORE42C7, STORE42C8, STORE42C9, STORE42CA, STORE42CB, STORE42CC, STORE42CD, STORE42CE, STORE42CF
dw STORE42D0, STORE42D1, STORE42D2, STORE42D3, STORE42D4, STORE42D5, STORE42D6, STORE42D7, STORE42D8, STORE42D9, STORE42DA, STORE42DB, STORE42DC, STORE42DD, STORE42DE, STORE42DF
dw STORE42E0, STORE42E1, STORE42E2, STORE42E3, STORE42E4, STORE42E5, STORE42E6, STORE42E7, STORE42E8, STORE42E9, STORE42EA, STORE42EB, STORE42EC, STORE42ED, STORE42EE, STORE42EF
dw STORE42F0, STORE42F1, STORE42F2, STORE42F3, STORE42F4, STORE42F5, STORE42F6, STORE42F7, STORE42F8, STORE42F9, STORE42FA, STORE42FB, STORE42FC, STORE42FD, STORE42FE, STORE42FF

include "STORE21XX.asm" // Store I/O $21XX Table
align(4)
include "STORE42XX.asm" // Store I/O $42XX Table